<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace='share.mng.team2.notice'>
	
	<select id="getNoticeList" parameterType="cmmnMap" resultType="cmmnMap">  <!-- 공지 리스트 불러오기 -->
	/* share.mng.team2.notice.getList */
		SELECT 
			n.notice_no
			, n.notice_sb
			, n.notice_cn
			, n.frst_reg_ymd
			, n.last_mdf_ymd
			, n.rdcnt
		FROM 
			kcgbd.e_notice n
		WHERE 1=1
	</select>
	
	<select id="getNoticeDetail" parameterType="cmmnMap" resultType="cmmnMap">	<!-- 공지 디테일 불러오기 -->
	/* share.mng.team2.notice.getList */
		SELECT 
			n.notice_no
			, n.notice_sb
			, n.notice_cn
			, n.frst_reg_ymd
			, n.last_mdf_ymd
			, n.rdcnt
		FROM 
			kcgbd.e_notice n
		WHERE 1=1
			AND n.notice_no = #{notice_no}
	</select>
	
	
	<insert id="insertInfo" parameterType="cmmnMap">	<!-- 공지 새로 추가하기 -->
		/* share.mng.team2.notice.insertInfo */
		INSERT INTO kcgbd.t_anal_idea(
			idx
			,sbjt
			,ctnt
			,add_desc
			,atch_file_1
			,atch_file_2
			,atch_file_3
			,atch_file_4
			,atch_file_5
			,read_cnt
			,reg_dt
			,updt_dt
			,reg_user_id
			,updt_user_id
		)VALUES(
			#{idx}
			,#{sbjt}
			,#{ctnt}
			,#{add_desc}
			,#{atch_file_1}
			,#{atch_file_2}
			,#{atch_file_3}
			,#{atch_file_4}
			,#{atch_file_5}
			,'0'
			,NOW()
			,NOW()
			,#{user_id}
			,#{user_id}
		)
	</insert>
	
	<update id="updateInfo" parameterType="cmmnMap">		<!-- 공지 올렸던 공지 수정하기 -->
	/* share.mng.anal.idea.updateInfo */
		UPDATE kcgbd.t_anal_idea
		SET 
			sbjt = #{sbjt}
			,ctnt = #{ctnt}
			,add_desc = #{add_desc}
			,atch_file_1 = #{atch_file_1}
			,atch_file_2 = #{atch_file_2}
			,atch_file_3 = #{atch_file_3}
			,atch_file_4 = #{atch_file_4}
			,atch_file_5 = #{atch_file_5}
			,updt_dt = NOW()
			,updt_user_id = #{user_id}
		WHERE 1=1
			AND idx = #{idx}
	</update>
	
	<delete id="deleteInfo" parameterType="cmmnMap">		<!-- 공지 삭제하기 -->
	/* share.mng.anal.idea.deleteInfo */
		DELETE FROM kcgbd.t_anal_idea
		WHERE idx = #{idx}
	</delete>
</mapper>